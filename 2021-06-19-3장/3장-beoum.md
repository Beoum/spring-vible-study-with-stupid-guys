# 3장 템플릿

* 템플릿이란 변경이 거의 일어나지 않고 일정한 패턴으로 유지되는 특성을 가진 부분을 자유롭게 변경되는 성질을 가진 부분으로 부터 독립시켜 효과적으로 활용할 수 있도록 하는 방법.
> 쉽게 말해 관심사를 분리!

* 간단한 예로 db와 connection이 맺어지고 작업이 끝나면 __반드시__ 리소스를 반환해야한다. => 시스템에 심각한 문제가 발생할 수 있다.
> connection의 반환만 담당하는 템플릿을 만들어서 관리한다면 어떨까.

* close가 실패했을 때 특별히 해줄 수 있는 조치가 없기 때문에 catch 블록이 비어있게 된다. => (의견)비워져있는데로 그대로 두는게 맞을까?
> 마땅한 조치가 없더라도 적절한 error message라도 만들어 넘겨주는게 맞지않나 라는 의견!


## 변하는 것과 변하지 않는 것.

* 중복이라는 관점을 다른 시각으로 볼 필요가 있다.

* 문제가 될 가능성이 있는 코드들을 잘 분리 해서 쉽게 관리하는게 포인트(ex. close() method 호출).
> A4지 수천 장에 달하는 코드를 일일이 점검하는건 끔찍하고 이 방법 조차도 임시방편에 불과하니까.

* 템플릿화 하는 과정중에서도 DI를 활용할 수 있다.
> DI의 가장 중요한 개념은 제 3자의 도움을 통해 두 오브젝트사이의 유여한 관계가 되도록 설정하는 것.

* 그런데 인터페이스를 활용하지 않고 DI를 한다면 어떨까? 
<br/>=> 온전한 DI라고 볼 수 없지만. 객체의 생성과 관계설정에 대한 제어권한을 오브젝트에서 제거하고 외부로 위임했다는 측면에서 __기본은 따르고 있다.__

* 인터페이스를 만들기 귀찮으니까 그냥 클래스를 사용하는건 잘못된 생각이고, 두 객체간에 매우 긴밀한 관계로 강하게 결합되어 있다면(강한 응집도) 마지막으로 고려해볼 사항이다.
> 일반적으로는 성격이 다른 코드들은 가능한 한 분리하는 편이 낫지만, 연관되어 동작하는 응집력이 강한 코드들은 한군데 모여 있는게 유리하다.

* 일반적으로 무조건 어떤 방법이 더 낫다고 말할 수 없기에, 왜 그렇게 선택했는지에 대한 __분명한 이유와 근거가 있어야 한다.__

* 고정된 작업 흐름을 가지고 여기저기 반복되는 코드가 있따면 이를 분리할 방법을 생각하는 습관을 기르자 
<br/>=> 중복된 코드는 먼저 메소드로 분리하는 시도부터 해보자

* 중복코드를 바라볼때에 한두 번까지는 넘어가도 세번 이상 반복된다면 코드 개선을 생각해야한다.
> 리팩토링의 스트라이크 3개면 코드를 개선해라와 같은 이야기!

## 테스트

* 템플릿에서도 중요한건 역시 테스트!

* 현명한 개발자가 되려면 긍정적인 테스트보다는 부정적인 자세가 필요하다.
> 스프링의 개발자인 로드 존슨은 테스트를 작성할 때 항상 네거티브 테스트부터 만드는 습관이 있다.

## 3장 결론
> 템플릿은 객체지향 설계와 프로그래밍이 얼마나 중요한 가치를 두고 있는지 잘 보여주는 예! 잘 배우자.
